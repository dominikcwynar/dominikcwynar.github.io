<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
</head>
<body>
<form id="form" ">
  <input id="searchTerm" type="text" name="searchTerm"/>
  <input type="submit" />
</form>
 
<div id="lightningout" data-lightning-out="true"></div>
 
<script src="https://oneops-mbm--pocpega.sandbox.my.salesforce-sites.com/cos/lightning/lightning.out.js"></script>
<script type="text/javascript">
  const appName = 'c:ltngOut';
  const componentName = "c:ltngOutComponent";
  const lightningEndpoint = 'https://oneops-mbm--pocpega.sandbox.my.salesforce-sites.com/cos';
  const targetElement = document.querySelector("[data-lightning-out]");
  document.getElementById("form").addEventListener('submit', function(event){
   console.log(event);
   console.log(searchTerm.value);
   
     $Lightning.use(
        appName, // name of the Lightning app
        function(){
         $Lightning.createComponent(
          componentName,
          {
            "search": searchTerm.value
          },
          targetElement,
          function (cmp){
           console.log('lightning component created');
          }
          );
        },
         lightningEndpoint// Site endpoint
      );
    event.preventDefault();
  });

</script>
</body>
</html>
